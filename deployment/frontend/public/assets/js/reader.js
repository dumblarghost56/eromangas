const d=document,$content=d.getElementById("reader-content"),$btnNext=d.getElementById("btn-next"),$btnPrev=d.getElementById("btn-prev"),$btnFullScreen=d.getElementById("btn-full-screen"),$readerIndex=d.getElementById("reader-index");if(index=1,/#[0-9]+/.test(location.href)){let e=location.href.match(/[0-9]+$/)[0];d.getElementById(""+e).scrollIntoView(),index=e,$readerIndex.value=e}else location.href=location.href+"#1";const next=()=>{if(index>=$content.children.length)return!1;index++,$readerIndex.value=index,location.href=location.href.replace(/[0-9]+$/,index)},prev=()=>{if(index<=1)return!1;index--,$readerIndex.value=index,location.href=location.href.replace(/[0-9]+$/,index)};$btnNext.onclick=()=>next(),$btnPrev.onclick=()=>prev(),d.addEventListener("click",e=>{e.target.matches("img")&&next()}),$readerIndex.onchange=()=>{let e=$readerIndex.value;index=e,d.getElementById(""+e).scrollIntoView()},d.addEventListener("keyup",e=>{"ArrowLeft"===e.key&&(e.preventDefault(),prev()),"ArrowRight"===e.key&&(e.preventDefault(),next()),"F11"===e.key&&(e.preventDefault(),$content.requestFullscreen())}),$btnFullScreen.onclick=e=>$content.requestFullscreen();